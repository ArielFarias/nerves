\documentclass[8pt]{extarticle}

\usepackage[margin=0pt, landscape]{geometry} % Page margins and orientation

\usepackage{graphicx} % Required for including images
\usepackage{tikz} % For Nerves logo, top right
\usepackage{array}
\usepackage{color} % Required for color customization
\usepackage{textcomp}
\usepackage{url} % Required for the \url command to easily display URLs

\usepackage[ % This block contains information used to annotate the PDF
colorlinks=false,
pdftitle={Nerves Cheat Sheet},
pdfauthor={Nerves Project developers},
pdfsubject={Compilation of useful shortcuts},
pdfkeywords={Nerves, Elixir}
]{hyperref}

\setlength{\unitlength}{1mm} % Set the length that numerical units are measured in
\setlength{\parindent}{0pt} % Stop paragraph indentation

\renewcommand{\familydefault}{\sfdefault} % Use sans-serif font for doc
\renewcommand{\dots}{\ \dotfill{}\ } % Fills in the right amount of dots
\newcommand{\command}[2]{#1~\dotfill{}~\texttt{#2}\\} % Custom command for adding a shortcut
\newcommand{\sectiontitle}[1]{\paragraph{#1} \ \\} % Custom command for subsection titles

%----------------------------------------------------------------------------------------

\begin{document}

\tikz[remember picture,overlay]
  \node[anchor=north east,inner sep=20] at (current page.north east)
    {\includegraphics[height=1.5cm]{nerves-logo}};

\begin{picture}(297,210) % Create a container for the page content

%----------------------------------------------------------------------------------------
%	TITLE
%----------------------------------------------------------------------------------------

\put(10,200){ % Position on the page to put the title
\begin{minipage}[t]{210mm} % The size and alignment of the title
\section*{Nerves Cheat Sheet} % Title
\end{minipage}
}

%----------------------------------------------------------------------------------------
%	FIRST COLUMN SPECIFICATION
%----------------------------------------------------------------------------------------

\put(10,193){ % Divide the page
\begin{minipage}[t]{83mm} % Create a box to house text

\subsection*{Terminology}

\textbf{host}\ \textbullet\ The computer on which you are editing source code, compiling, and assembling firmware.

\vspace{2mm}

\textbf{target}\ \textbullet\ The platform for which your firmware is built such as Raspberry Pi, Raspberry Pi 2, or Beaglebone Black, etc.

\vspace{2mm}

\textbf{toolchain}\ \textbullet\ The tools required to build code for the target, such as compilers, linkers, binutils, and C runtime

\vspace{2mm}

\textbf{system}\ \textbullet\ A lean Buildroot-based Linux distribution that has been customized and cross-compiled for a particular target.

\vspace{2mm}

\textbf{assemble}\ \textbullet\ The process of combining system, application, and configuration into a firmware bundle.

\vspace{2mm}

\textbf{firmware bundle}\ \textbullet\ A single file that contains an assembled version of everything needed to burn firmware.

\vspace{2mm}

\textbf{firmware image}\ \textbullet\ Built from a firmware bundle and contains the partition table, partitions, bootloader, etc.

\subsection*{Installation}
\url{https://hexdocs.pm/nerves/installation.html} \\

\textbf{MacOS} \\
\texttt{\$ brew update} \\
\texttt{\$ brew install~erlang~elixir~fwup~squashfs coreutils} \\

\textbf{Linux (Debian/Ubuntu)} \\
\texttt{\$ sudo apt-get install ssh-askpass squashfs-tools} \\

\textbf{All platforms} \\
\texttt{\$ mix local.hex} \\
\texttt{\$ mix local.rebar} \\
\texttt{\$ mix archive.install \url{https://github.com/nerves-project/archives/raw/master/nerves_bootstrap.ez}}

\vspace{2mm}

\textbf{Updating}
\par\texttt{\$ mix local.nerves}

\end{minipage} % End the first column of text
} % End the first division of the page

%----------------------------------------------------------------------------------------
%	SECOND COLUMN SPECIFICATION
%----------------------------------------------------------------------------------------

\put(100,193){ % Divide the page
\begin{minipage}[t]{83mm} % Create a box to house text

\subsection*{Official targets}
\renewcommand{\arraystretch}{1.3}
\setlength{\tabcolsep}{6pt}

\begin{tabular}{|p{30mm}|p{30mm}|p{10mm}|}
\hline
\textbf{Target} & \textbf{Nerves System} & \textbf{mix} \\ [0.5ex]
\hline
Raspberry Pi Zero & nerves\_system\_rpi0 & rpi0 \\
Raspberry Pi A,B & nerves\_system\_rpi & rpi \\
Raspberry Pi 2 & nerves\_system\_rpi2 & rpi2 \\
Raspberry Pi 3 & nerves\_system\_rpi3 & rpi3 \\
All Beaglebones & nerves\_system\_bbb & bbb \\
Lego EV3 & nerves\_system\_ev3 & ev3 \\
Linkit Smart & nerves\_system\_linkit & linkit \\
\hline
\end{tabular}

\subsection*{Nerves basics}

\textbf{Create a new project} \\
\texttt{\$ mix nerves.new hello\_nerves}

\texttt{\$ cd hello\_nerves} \\
\texttt{\$ export MIX\_TARGET=<mix target>} \\
\texttt{\$ mix deps.get} \\
\texttt{\$ mix firmware} \\

\textbf{Burn a MicroSD card} \\
\texttt{\$ mix firmware.burn} \\

\textbf{Update using nerves\_firmware\_http} \\
\texttt{\$ mix firmware.push hostname [--target <mix target>]}

\subsection*{Connecting to the target}
Most Nerves systems provide an IEx prompt over a serial port or UART.
TTY emulators like screen and picocom can access it. Check the
system for baud rate (normally 115200). \\

\textbf{screen} \\
\texttt{\$ screen /dev/tty<device> 115200} \\
Exit screen with CTRL+a, CTRL+\textbackslash \\

\textbf{picocom} \\
\texttt{\$ picocom -b 115200 /dev/tty<device>} \\
Exit picocom with CTRL+a, CTRL+x

%----------------------------------------------------------------------------------------

\end{minipage} % End the second column of text
} % End the second division of the page

%----------------------------------------------------------------------------------------
%	THIRD COLUMN SPECIFICATION
%----------------------------------------------------------------------------------------

\put(190,193){ % Divide the page
\begin{minipage}[t]{75mm} % Create a box to house text

\subsection*{Tutorial projects}
\vspace{2mm}
\subsubsection*{Pi Camera}

\texttt{\$ git clone \url{https://fhunleth@bitbucket.org/fhunleth/nerves\_cam.git}}

\subsection*{Useful IEx commands}

\command{Run a Linux command}{:os.cmd(\textquotesingle ps\textquotesingle) |> IO.puts}
\command{Reboot}{Nerves.Runtime.reboot}
\command{Shell}{<CTRL+g>s sh<Enter>c 1}
%----------------------------------------------------------------------------------------
%	FOOTNOTE
%----------------------------------------------------------------------------------------

\vspace{\baselineskip}

\footnotesize{
\copyright 2017 Nerves Project developers\\
Released under the Apache License 2.0.
}

%----------------------------------------------------------------------------------------

\end{minipage} % End the third column of text
} % End the third division of the page
\end{picture} % End the container for the entire page

%----------------------------------------------------------------------------------------

\end{document}
